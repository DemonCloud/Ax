<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
<style>
	.del{
		display: inline-block;
		margin-left: 5px;
		background-color:#ccc;
		cursor: pointer;
		font-size: 12px;
		font-weight: normal;
		color: #fff;
		padding: 1px 3px;
	}
</style>
<div id="app"></div>

<script src="./src/struct.js"></script>
<script src="./src/ax.js"></script>
<!-- <script src="./dist/struct.min.js"></script> -->
<!-- <script src="./dist/ax.min.js"></script> -->
<script src="./modules/Ax-Router.js"></script>
<script src="./modules/Ax-Loader.js"></script>

<script id="state" type="ax/tpl">
	<form id="form">
		<input ref="name" id="name" maxlength=10><button id="add">Add</button>
		<ul>
		{{* each [item,i] in list }}
			 <li style="max-width:168px">
				<span>{{-item.name}}</span>
				<b class="del" key={{-i}}>Ã—</b>
			 </li>
		{{* end }}
		</ul>
	</form>
</script>

<script>
//example3
var model3 = ax.model({
	name:"todolist",
	data:{ 
		list:[] 
	},
	store: true,
});

var view3 = ax.view({
	template: document.getElementById("state").innerHTML,

	model: model3,

	events:{
		"submit:#form":function(event){
			event.preventDefault();
			var name = this.refs.name;
			var getName = name.value.trim();
			if(getName){
				name.value="";
				model3.moc("list",{ name : getName });
			}
		},

		"click:.del":function(event){
			model3.rm("list."+event.target.key);
		}
	}
});

view3.mount(
	document.getElementById("app"),
	model3.get()
);
</script>
</body>
</html>
