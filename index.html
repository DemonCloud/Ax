<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title></title>
</head>
<body>
<div id="tree"></div>

<script src="./src/struct.js"></script>
<script src="./src/ax.js"></script>
<script id="tpl" type='text/tpl'>
	<div><input id='id' type='checkbox' sid='{sid}' :check='{log}' checked='{{#check}}'>
	<h2 id='h2'>{{#check}}</h2></div>
</script>

<script>
var model = ax.model();

var view = ax.view({
	template:document.getElementById("tpl").innerHTML,

	model : model,

	$destroy: function(){
		this.destroy(true);
	},

	props:{
		sid:{
			a:1, b:2
		},
		log:function(){
			console.log(this.checked);
		}
	},

	events:{
		"check:#id":function(event){
			event.preventDefault();
			event.stopPropagation();
			model.set("check",event.target.checked);
		}
	}
});

view.mount(
	document.getElementById("tree"),
	{ check: true }
);

ax.module("loader",function(ax,struct){
	return ax.model({ data:{ loader: true } });
});

</script>
</body>
</html>
