<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>demo-aixview</title>
	<link rel="stylesheet" href="../css/normalize.css" media="all">
	<link rel="stylesheet" href="../css/demo.css" media="all">
</head>
<body>
	<div class="code">
		<div class="top">
		<pre contenteditable="true">
var data = {
	name:"Cloud",
	code:7654,
	score:90,
	adds:"Souls America"
};

var view = new aix.view({
	el:"#render",
	template:_.doom(z('#tmp').html(),"a"),

	events:{
		init:function(){
			this.render(data);
		},

		//自定义事件
		drawDom:function(dom,color){
			z(dom).draw("color",color);
		},

		"click:li":function(event){
			//点击事件会将视图放入event.data中以供调用
			var view = event.data.self;

			var newdom = z(this).replacewith("&lt;div&gt;"+ this.innerText +"&lt;/div&gt;");

			view.dispatch("drawDom",null,[newdom.get(0),"#e60000"])
		}
	}
});</pre>
		</div>
		<div class="bottom">
		<pre contenteditable="true">
&lt;ul&gt;
	&lt;li&gt;{{#a.name}}&lt;/li&gt;
	&lt;li&gt;{{#a.code}}&lt;/li&gt;
	&lt;li&gt;{{#a.score}}&lt;/li&gt;
	&lt;li&gt;{{#a.adds}}&lt;/li&gt;
&lt;/ul&gt;
	</pre>
		</div>
	</div>
	<div class="preview">
		<div id="render">
		</div>
	</div>


<script id="tmp" type="aix/template">
<ul>
	<li>{{#a.name}}</li>
	<li>{{#a.code}}</li>
	<li>{{#a.score}}</li>
	<li>{{#a.adds}}</li>
</ul>
</script>

<script src="../js/aix.c.js"></script>
<script>
(function(){
	var data = {
		name:"Cloud",
		code:7654,
		score:90,
		adds:"Souls America"
	};

	var view = new aix.view({
		el:"#render",
		template:_.doom(z('#tmp').html(),"a"),

		events:{
			init:function(){
				this.render(data);
			},

			//自定义事件
			drawDom:function(dom,color){
				z(dom).draw("color",color);
			},

			"click:li":function(event){
				//点击事件会将视图放入event.data中以供调用
				var view = event.data.self;

				var newdom = z(this).replacewith("<div>"+ this.innerText +"</div>");

				view.dispatch("drawDom",null,[newdom.get(0),"#e60000"]);
			}
		}
	});
})()
</script>
</body>
</html>
